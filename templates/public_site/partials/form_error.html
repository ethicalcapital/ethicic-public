<div class="alert alert-error" role="alert">
  <div class="alert-icon">âš </div>
  <div class="alert-content">
    <h3 class="alert-title">Form Submission Error</h3>
    {% load wagtailsettings_tags %} {% get_settings "public_site.SiteConfiguration" as site_config %}
    <p>
      {{ message|default:site_config.contact_error_message|default:"Please correct the errors below and try again." }}
    </p>

    {% if errors %}
    <ul class="error-list">
      {% for field, field_errors in errors.items %} {% for error in field_errors %}
      <li>
        {% if field != '__all__' %}
        <strong>{{ field|title }}:</strong>
        {% endif %} {{ error }}
      </li>
      {% endfor %} {% endfor %}
    </ul>
    {% endif %}
  </div>
</div>

<style>
  .alert-error {
    background-color: var(--color-error-alpha);
    border: 1px solid var(--color-error);
    color: var(--color-error);
  }

  .error-list {
    margin: 0.5rem 0 0 0;
    padding-left: 1.5rem;
    list-style-type: disc;
  }

  .error-list li {
    margin: 0.25rem 0;
    color: var(--color-text-primary);
  }

  /* Dark mode */
  [data-theme="dark"] .alert-error {
    background-color: rgba(239, 68, 68, 0.1);
  }
</style>
