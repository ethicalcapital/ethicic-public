/* Process Page Dark Mode Fix */

/* Fix process steps background in dark mode */
[data-theme="dark"] .process-step {
    background: var(--color-surface) !important;
    border-color: var(--color-border) !important;
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .process-step-expanded {
    background: var(--color-surface-variant) !important;
    border-color: var(--color-primary) !important;
}

/* Fix panel content backgrounds */
[data-theme="dark"] .garden-panel-content {
    background: var(--color-surface) !important;
    color: var(--garden-fg) !important;
}

/* Fix exclusions section containers */
[data-theme="dark"] .exclusions-section {
    background: var(--color-surface-variant) !important;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

/* Fix exclusions grid container */
[data-theme="dark"] .exclusions-grid {
    background: transparent !important;
}

/* Fix exclusions subtitle */
[data-theme="dark"] .exclusions-subtitle {
    background: var(--color-surface) !important;
    padding: 1rem;
    border-radius: 4px;
    margin-bottom: 1.5rem;
}

/* Fix screening stats container */
[data-theme="dark"] .screening-stats {
    background: var(--color-surface) !important;
    padding: 1.5rem;
    border-radius: 8px;
    margin: 2rem 0;
}

/* Fix exclusion cards */
[data-theme="dark"] .exclusion-card {
    background: var(--color-surface-variant) !important;
    border-color: var(--color-border) !important;
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .exclusion-title {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .exclusion-list {
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .exclusion-list li {
    color: var(--garden-fg) !important;
}

/* Fix criteria cards */
[data-theme="dark"] .criteria-card {
    background: var(--color-surface-variant) !important;
    border-color: var(--color-border) !important;
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .criteria-card h4 {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .criteria-list {
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .criteria-list li {
    color: var(--garden-fg) !important;
}

/* Fix methodology card */
[data-theme="dark"] .methodology-card {
    background: var(--color-surface-variant) !important;
    border-color: var(--color-primary) !important;
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .methodology-card h4 {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .methodology-list li {
    color: var(--garden-fg) !important;
}

/* Fix insight callout */
[data-theme="dark"] .insight-callout {
    background: var(--color-surface-variant) !important;
    color: var(--garden-fg) !important;
    border-color: var(--color-primary) !important;
}

/* Fix principle cards */
[data-theme="dark"] .principle-card {
    background: var(--color-surface-variant) !important;
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .principle-card h4 {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .principle-card p {
    color: var(--garden-fg) !important;
    opacity: 0.9;
}

/* Fix strategy comparison */
[data-theme="dark"] .strategy-comparison {
    background: var(--color-surface) !important;
}

/* Fix stat cards */
[data-theme="dark"] .stat-card {
    background: var(--color-surface-variant) !important;
    border-color: var(--color-border) !important;
}

[data-theme="dark"] .stat-number {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .stat-label {
    color: var(--garden-fg) !important;
    opacity: 0.8;
}

/* Fix policy transparency box */
[data-theme="dark"] .policy-transparency {
    background: var(--color-surface-variant) !important;
    border-color: var(--color-primary) !important;
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .policy-transparency h4 {
    color: var(--color-primary) !important;
}

/* Fix text colors throughout */
[data-theme="dark"] .process-content p,
[data-theme="dark"] .process-page p {
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .process-content h3,
[data-theme="dark"] .process-content h4,
[data-theme="dark"] .process-page h3,
[data-theme="dark"] .process-page h4 {
    color: var(--garden-fg) !important;
}

/* Fix step numbers - they should stay white on purple */
[data-theme="dark"] .step-number {
    background: var(--color-primary) !important;
    color: white !important;
}

/* Fix links */
[data-theme="dark"] .policy-link,
[data-theme="dark"] .process-link {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .policy-link:hover,
[data-theme="dark"] .process-link:hover {
    color: var(--color-primary) !important;
    opacity: 0.8;
}

/* Fix section titles */
[data-theme="dark"] .exclusions-section-title,
[data-theme="dark"] .principles-section-title {
    color: var(--color-primary) !important;
}

/* Fix process step content */
[data-theme="dark"] .step-content {
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .step-content h3,
[data-theme="dark"] .step-content h4 {
    color: var(--garden-fg) !important;
}

[data-theme="dark"] .step-content p {
    color: var(--garden-fg) !important;
}

/* Fix CTA button appearance - ordered by specificity, lowest to highest */
.cta-panel .garden-panel__content {
    text-align: center !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
}

/* Dark mode specific after general */
[data-theme="dark"] .cta-panel {
    background: var(--color-primary) !important;
}

[data-theme="dark"] .cta-panel .garden-panel__content {
    background: var(--color-primary) !important;
    color: white !important;
}

[data-theme="dark"] .cta-panel h2,
[data-theme="dark"] .cta-panel p {
    color: white !important;
}

.cta-panel .garden-action.primary {
    background-color: #fff !important;
    color: #3d2970 !important;
    border: 2px solid #fff !important;
    -webkit-text-fill-color: #3d2970 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

html body .cta-panel .garden-action.primary {
    background-color: #fff !important;
    color: #3d2970 !important;
    border: 2px solid #fff !important;
    -webkit-text-fill-color: #3d2970 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* Hover selectors must come before higher-specificity non-hover selectors */
.cta-panel .garden-action.primary:hover {
    background-color: transparent !important;
    color: #fff !important;
    border-color: #fff !important;
    -webkit-text-fill-color: #fff !important;
}

.process-page .cta-panel .garden-action.primary {
    background-color: #fff !important;
    color: #3d2970 !important;
    border: 2px solid #fff !important;
    -webkit-text-fill-color: #3d2970 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

html body .process-page .cta-panel .garden-action.primary {
    background-color: #fff !important;
    color: #3d2970 !important;
    border: 2px solid #fff !important;
    -webkit-text-fill-color: #3d2970 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

html body.process-page .cta-panel .garden-action.primary {
    background-color: #fff !important;
    color: #3d2970 !important;
    border: 2px solid #fff !important;
    -webkit-text-fill-color: #3d2970 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* Already defined above - duplicate removed */

.cta-panel .garden-action {
    display: inline-block !important;
    width: auto !important;
    max-width: 200px !important;
}

/* Ensure CTA description has proper spacing */
.cta-panel .cta-description {
    margin-bottom: 2rem !important;
    text-align: center !important;
}

/* Ensure CTA title is centered */
.cta-panel .cta-title {
    text-align: center !important;
    margin-bottom: 1rem !important;
}
