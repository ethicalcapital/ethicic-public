/*!
 * Garden UI Forms CSS
 * Comprehensive form component styles with full theme support
 * Eliminates the need for form-related override files
 */

/* ===== CSS LAYERS ===== */
@layer components {
/* ===== BASE FORM ELEMENTS ===== */
/* Text inputs, textareas, and select elements */
.garden-form-input,
.garden-input,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
input[type="url"],
input[type="search"],
input[type="date"],
input[type="time"],
input[type="datetime-local"],
textarea,
select {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  background-color: var(--garden-input-bg);
  color: var(--garden-input-fg);
  border: 1px solid var(--garden-input-border);
  border-radius: var(--radius-sm);
  font-family: inherit;
  font-size: var(--font-base);
  line-height: var(--line-height-normal);
  transition: all var(--duration-fast);
  box-sizing: border-box;
}

/* Focus states */
.garden-form-input:focus,
.garden-input:focus,
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="search"]:focus,
input[type="date"]:focus,
input[type="time"]:focus,
input[type="datetime-local"]:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--garden-input-focus-border);
  box-shadow: var(--garden-input-focus-ring);
}

/* Hover states */
.garden-form-input:hover:not(:focus, :disabled),
.garden-input:hover:not(:focus, :disabled),
input:hover:not(:focus, :disabled),
textarea:hover:not(:focus, :disabled),
select:hover:not(:focus, :disabled) {
  border-color: var(--garden-input-hover-border);
}

/* Disabled states */
.garden-form-input:disabled,
.garden-input:disabled,
input:disabled,
textarea:disabled,
select:disabled {
  background-color: var(--garden-input-disabled-bg);
  opacity: var(--garden-input-disabled-opacity);
  cursor: not-allowed;
}

/* Placeholder text */
.garden-form-input::placeholder,
.garden-input::placeholder,
input::placeholder,
textarea::placeholder {
  color: var(--theme-text-tertiary);
  opacity: 0.7;
}

/* ===== FORM GROUPS ===== */
.garden-form-group {
  margin-bottom: var(--space-4);
}

.garden-form-label,
.garden-label {
  display: block;
  margin-bottom: var(--space-1);
  font-weight: var(--font-medium);
  color: var(--garden-fg);
  font-size: var(--font-sm);
}

/* Required field indicator */
.garden-form-label.required::after,
.garden-label.required::after {
  content: " *";
  color: var(--theme-error);
}

/* Help text */
.garden-form-help {
  margin-top: var(--space-1);
  font-size: var(--font-xs);
  color: var(--theme-text-secondary);
}

/* ===== ERROR STATES ===== */
.garden-form-group.error .garden-form-input,
.garden-form-group.error .garden-input,
.garden-form-group.error input,
.garden-form-group.error textarea,
.garden-form-group.error select {
  border-color: var(--garden-input-error-border);
}

.garden-form-error {
  margin-top: var(--space-1);
  font-size: var(--font-xs);
  color: var(--theme-error);
}

/* ===== SUCCESS STATES ===== */
.garden-form-group.success .garden-form-input,
.garden-form-group.success .garden-input,
.garden-form-group.success input,
.garden-form-group.success textarea,
.garden-form-group.success select {
  border-color: var(--garden-input-success-border);
}

.garden-form-success {
  margin-top: var(--space-1);
  font-size: var(--font-xs);
  color: var(--theme-success);
}

/* ===== TEXTAREA SPECIFIC ===== */
textarea,
.garden-textarea {
  min-height: calc(var(--space-3) * 5);
  resize: vertical;
}

/* ===== SELECT SPECIFIC ===== */
select,
.garden-select {
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M10.293 3.293L6 7.586 1.707 3.293A1 1 0 00.293 4.707l5 5a1 1 0 001.414 0l5-5a1 1 0 10-1.414-1.414z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--space-2) center;
  padding-right: var(--space-8);
}

/* ===== CHECKBOX AND RADIO ===== */
.garden-checkbox,
.garden-radio {
  display: flex;
  align-items: center;
  margin-bottom: var(--space-2);
}

.garden-checkbox input[type="checkbox"],
.garden-radio input[type="radio"] {
  width: auto;
  margin-right: var(--space-2);
  cursor: pointer;
}

.garden-checkbox label,
.garden-radio label {
  cursor: pointer;
  margin-bottom: 0;
}

/* ===== FILE UPLOAD ===== */
.garden-file-upload {
  position: relative;
  display: inline-block;
}

.garden-file-upload input[type="file"] {
  position: absolute;
  left: -9999px;
}

.garden-file-upload label {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background-color: var(--garden-button-secondary-bg);
  color: var(--garden-button-secondary-fg);
  border: 2px solid var(--garden-button-secondary-border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--duration-fast);
}

.garden-file-upload label:hover {
  background-color: var(--garden-button-secondary-hover-bg);
  color: var(--garden-button-secondary-hover-fg);
  border-color: var(--garden-button-secondary-hover-border);
}

/* ===== FORM LAYOUTS ===== */
.garden-form-inline {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: flex-end;
}

.garden-form-inline .garden-form-group {
  flex: 1;
  margin-bottom: 0;
}

.garden-form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-4);
}

/* ===== FORM ACTIONS ===== */
.garden-form-actions {
  display: flex;
  gap: var(--space-3);
  margin-top: var(--space-6);
  flex-wrap: wrap;
}

.garden-form-actions.center {
  justify-content: center;
}

.garden-form-actions.right {
  justify-content: flex-end;
}

/* ===== DARK MODE OVERRIDES ===== */
[data-theme="dark"] select,
[data-theme="dark"] .garden-select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23fff' d='M10.293 3.293L6 7.586 1.707 3.293A1 1 0 00.293 4.707l5 5a1 1 0 001.414 0l5-5a1 1 0 10-1.414-1.414z'/%3E%3C/svg%3E");
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media (width <= 768px) {
  .garden-form-inline {
    flex-direction: column;
    align-items: stretch;
  }

  .garden-form-inline .garden-form-group {
    margin-bottom: var(--space-4);
  }

  .garden-form-actions {
    flex-direction: column;
  }

  .garden-form-actions button,
  .garden-form-actions .garden-action {
    width: 100%;
  }
}

/* ===== HIGH CONTRAST MODE ===== */
@media (prefers-contrast: high) {
  .garden-form-input,
  .garden-input,
  input,
  textarea,
  select {
    border-width: 2px;
  }

  .garden-form-input:focus,
  .garden-input:focus,
  input:focus,
  textarea:focus,
  select:focus {
    outline: 3px solid var(--garden-input-focus-border);
    outline-offset: 2px;
  }
}

} /* End @layer components */
