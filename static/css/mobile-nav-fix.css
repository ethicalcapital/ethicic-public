/* Mobile Navigation Fixes */

/* Mobile-specific header adjustments */
@media (width <= 768px) {
    /* Fix header layout on mobile */
    .garden-header-content {
        padding: 0 0.5rem !important;
        gap: 0.5rem !important;
    }

    /* Adjust nav-left on mobile */
    .garden-nav-left {
        flex: 1 1 auto !important;
        gap: 0.5rem !important;
    }

    /* Fix brand/logo sizing on mobile */
    .garden-brand {
        font-size: 1rem !important;
        flex: 1 1 auto !important;
    }

    /* Properly position mobile menu toggle */
    .mobile-menu-toggle {
        order: -1 !important; /* Move to start */
        margin-right: 0.5rem !important;
    }

    /* Hide search container on mobile to prevent overlap */
    .garden-search-container {
        position: absolute !important;
        top: 100% !important;
        left: 0 !important;
        right: 0 !important;
        background: var(--color-surface) !important;
        padding: 0.5rem !important;
        display: none !important; /* Hide by default */
        z-index: 100 !important;
        box-shadow: 0 2px 8px rgb(0 0 0 / 10%) !important;
    }

    /* Show search when it has 'show' class */
    .garden-search-container.show {
        display: block !important;
    }

    /* Add mobile search toggle button */
    .mobile-search-toggle {
        display: block !important;
        background: none !important;
        border: none !important;
        padding: 0.5rem !important;
        color: var(--color-text-primary) !important;
        cursor: pointer !important;
        font-size: 1.2rem !important;
    }

    /* Adjust nav-right spacing */
    .garden-nav-actions {
        gap: 0.25rem !important;
    }

    /* Make login button more compact on mobile */
    .garden-login-btn {
        padding: 0.35rem 0.5rem !important;
        font-size: 0.75rem !important;
    }

    /* Hide login text, show icon only */
    .garden-login-btn span:first-child {
        display: none !important;
    }

    /* Show just the arrow */
    .garden-login-btn .garden-dropdown-arrow {
        display: inline !important;
        font-size: 1rem !important;
    }

    /* Compact action buttons */
    .garden-header .garden-action {
        padding: 0.35rem 0.5rem !important;
        font-size: 0.75rem !important;
    }

    /* Mobile menu overlay adjustments */
    .mobile-nav {
        padding: 1rem !important;
        padding-top: 2rem !important;
    }

    /* Add search to mobile menu */
    .mobile-search-container {
        margin: 1rem 0 !important;
        padding: 1rem 0 !important;
        border-bottom: 1px solid var(--color-border) !important;
    }

    .mobile-search-container input {
        width: 100% !important;
        padding: 0.75rem !important;
        font-size: 1rem !important;
        background: var(--color-surface-variant) !important;
        border: 1px solid var(--color-border) !important;
        border-radius: var(--radius-sm) !important;
        color: var(--color-text-primary) !important;
    }
}

/* Desktop search toggle should be hidden */
@media (width >= 769px) {
    .mobile-search-toggle {
        display: none !important;
    }
}

/* Dark mode adjustments */
[data-theme="dark"] .mobile-search-container input {
    background: var(--color-surface-variant) !important;
    border-color: var(--color-border) !important;
    color: var(--color-text-primary) !important;
}

[data-theme="dark"] .mobile-search-toggle {
    color: var(--color-text-primary) !important;
}
