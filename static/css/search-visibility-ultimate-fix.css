/* ULTIMATE SEARCH INPUT VISIBILITY FIX - Load this last */

/* Nuclear option - Override ALL search input styling with maximum specificity */
#search-input,
input#search-input,
.garden-search-input,
input.garden-search-input,
.garden-header #search-input,
.garden-header input#search-input,
.garden-header .garden-search-input,
.garden-header input.garden-search-input,
.garden-search-container #search-input,
.garden-search-container input#search-input,
.garden-search-container .garden-search-input,
.garden-search-container input.garden-search-input,
.garden-search #search-input,
.garden-search input#search-input,
.garden-search .garden-search-input,
.garden-search input.garden-search-input,
html body .garden-header #search-input,
html body .garden-header input#search-input,
html body .garden-header .garden-search-input,
html body .garden-header input.garden-search-input,
html body .garden-search-container #search-input,
html body .garden-search-container input#search-input,
html body .garden-search-container .garden-search-input,
html body .garden-search-container input.garden-search-input {
    /* Text visibility */
    color: #000 !important;
    -webkit-text-fill-color: #000 !important;
    -moz-text-fill-color: #000 !important;
    -ms-text-fill-color: #000 !important;

    /* Background - use theme variables */
    background: var(--color-surface) !important;
    background-color: var(--color-surface) !important;

    /* Border - use theme variables */
    border: 1px solid var(--color-border) !important;

    /* Cursor */
    caret-color: #000 !important;

    /* Remove any effects that might hide text */
    text-shadow: none !important;
    opacity: 1 !important;
    filter: none !important;
    transform: none !important;

    /* Font settings */
    font-size: 14px !important;
    font-weight: normal !important;
    font-family: inherit !important;

    /* Ensure it's interactive */
    pointer-events: auto !important;
    user-select: text !important;
    cursor: text !important;

    /* Layout */
    display: inline-block !important;
    visibility: visible !important;
    z-index: 9999 !important;
    position: relative !important;

    /* Padding */
    padding: 8px 12px !important;
}

/* Placeholder text */
#search-input::placeholder,
input#search-input::placeholder,
.garden-search-input::placeholder,
input.garden-search-input::placeholder {
    color: #666 !important;
    -webkit-text-fill-color: #666 !important;
    opacity: 1 !important;
}

/* Focus state */
#search-input:focus,
input#search-input:focus,
.garden-search-input:focus,
input.garden-search-input:focus {
    color: #000 !important;
    -webkit-text-fill-color: #000 !important;
    background-color: var(--color-surface) !important;
    border-color: var(--color-primary) !important;
    outline: 2px solid var(--color-primary) !important;
    outline-offset: 2px !important;
}

/* Dark mode overrides */
html[data-theme="dark"] #search-input,
html[data-theme="dark"] input#search-input,
html[data-theme="dark"] .garden-search-input,
html[data-theme="dark"] input.garden-search-input,
[data-theme="dark"] #search-input,
[data-theme="dark"] input#search-input,
[data-theme="dark"] .garden-search-input,
[data-theme="dark"] input.garden-search-input {
    color: #fff !important;
    -webkit-text-fill-color: #fff !important;
    background-color: #1a1a1a !important;
    border-color: #444 !important;
    caret-color: #fff !important;
}

/* Dark mode placeholder */
html[data-theme="dark"] #search-input::placeholder,
html[data-theme="dark"] input#search-input::placeholder,
html[data-theme="dark"] .garden-search-input::placeholder,
html[data-theme="dark"] input.garden-search-input::placeholder {
    color: #ccc !important;
    -webkit-text-fill-color: #ccc !important;
}

/* Absolute nuclear option - inline style override */
input[type="text"]#search-input,
input[type="search"]#search-input {
    color: var(--color-text-primary) !important;
    -webkit-text-fill-color: var(--color-text-primary) !important;
    background: var(--color-surface) !important;
}
